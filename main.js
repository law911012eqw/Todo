(()=>{"use strict";class e{static createPara(e,t){const s=document.createElement("p");return""!==t&&this.elementAddId(t,s),s.textContent=e,s}static createInput(e,t,s,r,a,n){const i=document.createElement("input");return i.id=t,i.placeholder=r,i.className=s,i.required=a,i.maxLength=n,""!==t&&this.elementAddId(t,i),""!==s&&(i.className=s),i}static createTextarea(e,t,s){const r=document.createElement("textarea");return r.className=e,r.cols=t,r.rows=s,""!==e&&(r.className=e),r}static createLabel(e,t){const s=document.createElement("label");return s.setAttribute("for",e),s.textContent=t,s}static createSelect(e){const t=document.createElement("select");return t.id=e,t}static createSelectOption(e,t){const s=document.createElement("option");return s.value=e,s.textContent=t,s}static createSubmit(e){const t=document.createElement("input");return t.type="submit",t.value=e,t}static createChecklist(e,t){const s=document.createElement("input");return s.type="checkbox",s.checked=t,s.ClassName=e,s}static elWithClasses(e="",t,s,r){const a=document.createElement(r);return a.textContent=e,a.className=s,""!==t&&this.elementAddId(t,a),""!==s&&(a.className=s),a}static elementAddId(e,t){t.id=e}static modifyAttr(e,t,s){e.setAttribute(t,s)}}const t=[{sort:"rgba(20, 189, 96,0.4)",inner:"rgba(20, 189, 96,0.4)"},{sort:"rgba(161,16,15,0.95)",inner:"rgb(175,36,36)",header:"rgb(139,20,20)"},{sort:"rgba(16,15,161,0.95)",inner:"rgb(36,36,175)",header:"rgb(20,20,139)"}],s=[];class r{constructor(e,t,s,r,a){this.name=e,this.description=t,this.id=s,this.tasks=r,this.active=a}}class a{constructor(e,t,s,r){this.checked=e,this.desc=t,this.dueDate=s,this.priority=r}}const n=(()=>{const t=e.elWithClasses("","theme-up-outer","theme-up-outer","div"),r=e.elWithClasses("","theme-up-inner","theme-up-inner","div"),a=e.elWithClasses("","sidebar","sidebar","div"),i=e.elWithClasses("","sidebar-header","sidebar-headers","div"),o=e.elWithClasses("","filter-container","filter-container","div"),c=e.elWithClasses("","","fas fa-search","i"),l=e.elWithClasses("","","fas fa-plus-circle","i"),d=e.elWithClasses("","","dropdown","div"),p=e.elWithClasses("Sort by","","dropbtn","button"),u=e.elWithClasses("","","dropdown-content","div"),h=e.elWithClasses("","","fas fa-times","i"),m=e.createInput("text","prj-filter","searchbar","Search for projects",!1,"32"),C=e.elWithClasses("","searchbar-wrapper","searchbar-wrapper","div"),f=e.elWithClasses("","prj-container","prj-container","div"),y=e.elWithClasses("","prj-list","","ul"),v=e.createInput("text","prj-create","","Add new project",!1,"32"),j=e.elWithClasses("","main-section","","div"),k=e.elWithClasses("","prj-header","","div"),b=e.elWithClasses("","prj-head-container","","div"),W=e.elWithClasses("","prj-desc-wrapper","","div"),g=e.elWithClasses("","prj-rnm-desc","fas fa-pen-square","div"),E=e.createTextarea("temp-textarea",30,10),B=e.elWithClasses("","","fas fa-cog","i"),T=e.elWithClasses("","task-feature-holder","","div"),x=e.elWithClasses("","task-container","task-container","div"),P=e.elWithClasses("","","dropdown","div"),I=e.elWithClasses("Sort by","","dropbtn","button"),L=e.elWithClasses("","","dropdown-content","div");return{themeOuter:t,themeInner:r,sidebarContainer:a,sidebarHeader:i,taskContainer:x,projectContainer:f,filterContainer:o,addButton:l,sortPrjButtonWrapper:d,magnifyIcon:c,searchProjects:m,searchbarWrapper:C,createProject:v,prjList:y,projectHeader:k,mainSection:j,emptyFilterBox:h,tempTextarea:E,sortPrjButton:p,sortPrjContents:u,taskFeatures:T,taskSettings:B,projectHeadContainer:b,projectDescWrapper:W,projectDescIcon:g,sortTskContents:L,sortTskButtonWrapper:P,sortTskButton:I,displayTaskItem:function(t,r){const a=e.elWithClasses("","","taskbox","div"),i=e.createChecklist("task-checklist",!1),o=e.elWithClasses(s[t].tasks[r].desc,"","todo","p"),c=e.elWithClasses(s[t].tasks[r].priority,"","task-prio","p");n.taskContainer.append(a),a.append(i,o,c)},hideTaskTopSection:function(){e.modifyAttr(k,"style","visibility: hidden"),e.modifyAttr(W,"style","visibility: hidden"),e.modifyAttr(u,"style","visibility: hidden;")}}})();function i(e,t){e.addEventListener("mouseover",(()=>{t.style.visibility="visible",setTimeout((function(){t.style.visibility="hidden"}),3e3)}))}function o(){let e=document.getElementById("prj-filter").value.toUpperCase();const t=document.querySelectorAll(".prj-items");for(let s=0;s<t.length;s++)n.prjList.getElementsByTagName("li")[s].textContent.toUpperCase().indexOf(e)>-1?t[s].style.display="":t[s].style.display="none"}function c(){for(let e=0;e<s.length;e++){let t=e;d(s[e].name,t,e),1==s[e].active&&(u(-1,t),l(n.taskContainer),h(e)),f()}}function l(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function d(t,r,a){let i=e.elWithClasses("","","prj-items","li");n.prjList.appendChild(i),i.append(e.createPara(t,""),e.elWithClasses("",`prj-edit${r}`,"prj-edit","div")),document.getElementById(`prj-edit${r}`).append(e.elWithClasses("","","fas fa-trash-alt prj-remove","i")),p(i,a),console.log(`yes ${a}`),document.querySelectorAll(".prj-remove").forEach(((t,r)=>{t.addEventListener("click",(t=>{t.stopPropagation(),!0===s[r].active&&(m(n.taskContainer),n.hideTaskTopSection(),n.taskContainer.appendChild(e.createPara("You don't have any task at the moment.","empty-task-text"))),s.splice(r,1),l(n.prjList),c()}))}))}function p(e,t){1==s[t].active?e.classList.add("prj-active"):e.classList.remove("prj-active")}function u(e,t){n.projectHeader.style.visibility="visible",n.projectDescWrapper.style.visibility="visible",-1==e?(n.projectHeader.textContent=s[t].name,console.log(`This is the latest project = ${s[t].name}`)):(console.log(`This is the clicked project = ${s[e].name}`),n.projectHeader.textContent=s[e].name)}function h(t){for(let e=0;e<s[t].tasks.length;e++)n.displayTaskItem(t,e);!function(){const t=e.elWithClasses("","","task-form","form"),r=e.elWithClasses("","form-upper","","div"),i=e.createInput("text","form-input","","e.g Finish todo-list project, Grind new PoE 3.13 expansion, World domination,..",!0,"200");i.autocomplete="off";const o=e.createLabel("priority","Priority level: "),c=e.createSelect("form-prio"),l=e.createSubmit("Submit");n.taskContainer.appendChild(t),t.append(r,l),c.append(e.createSelectOption("low","Low"),e.createSelectOption("medium","Medium"),e.createSelectOption("high","High")),r.append(i,o,c),document.querySelector(".task-form").addEventListener("submit",(function(e){let t;e.preventDefault(),console.log(s.length);for(let e=0;e<s.length;e++)if(!0===s[e].active){t=e;const r=new a(!1,document.getElementById("form-input").value,"",document.getElementById("form-prio").value);s[e].tasks.push(r)}m(n.taskContainer),h(t)}))}()}function m(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function C(){const e=document.querySelectorAll(".prj-items");for(let e=0;e<s.length;e++)s[e].active=!1;[].forEach.call(e,(function(e){e.classList.remove("prj-active")}))}function f(){document.querySelectorAll(".prj-items").forEach(((e,t)=>{e.addEventListener("click",(function(r){C(),s[t].active=!0,p(e,t),this.classList.add("prj-active"),function(){let e=s.length;for(let t=0;t<e;t++)!0===s[t].active&&(u(t,e),m(n.taskContainer),h(t))}()}))}))}document.getElementById("content").appendChild(n.themeOuter),n.themeOuter.appendChild(n.themeInner),n.themeInner.append(n.sidebarContainer,n.mainSection),n.sidebarContainer.append(n.sidebarHeader,n.filterContainer,n.projectContainer),n.sidebarHeader.append(e.createPara("My Projects",""),n.addButton),n.filterContainer.append(n.sortPrjButtonWrapper,n.searchbarWrapper),n.searchbarWrapper.append(n.magnifyIcon,n.searchProjects,n.emptyFilterBox),n.sortPrjButtonWrapper.append(n.sortPrjButton,n.sortPrjContents),n.sortPrjButton.appendChild(e.elWithClasses("","","fas fa-sort-down","i")),n.sortPrjContents.append(e.createPara("Sort by",""),e.elWithClasses("Creation Date","sort-date","sort-items","div"),e.elWithClasses("Title","sort-title","sort-items","div"),e.elWithClasses("# of tasks","sort-num-tasks","sort-items","div")),n.projectContainer.appendChild(n.prjList),n.mainSection.append(n.projectHeadContainer,n.taskContainer),n.projectHeadContainer.append(n.projectHeader,n.projectDescWrapper,n.taskFeatures),n.projectDescWrapper.append(n.projectDescIcon,e.createPara("Write your description here.","prj-desc-txt")),n.taskFeatures.append(n.sortTskButtonWrapper,n.taskSettings),n.taskContainer.append(e.createPara("You don't have any task at the moment.","empty-task-text")),n.sortTskButtonWrapper.append(n.sortTskButton,n.sortTskContents),n.sortTskButton.appendChild(e.elWithClasses("","","fas fa-sort-down","i")),n.sortTskContents.append(e.createPara("Sort by",""),e.elWithClasses("By Due Date","sort-due","sort-items","div"),e.elWithClasses("By Title","sort-tasktitle","sort-items","div"),e.elWithClasses("By Priority","sort-priority","sort-items","div")),n.hideTaskTopSection(),e.modifyAttr(n.themeInner,"style",`background: ${t[1].inner}`),e.modifyAttr(n.sidebarHeader,"style",`background: ${t[1].header}`),e.modifyAttr(n.sidebarContainer,"style",`border-right: 16px dashed ${t[1].inner}`),e.modifyAttr(n.sortPrjButton,"style",`background: ${t[1].sort}`),e.modifyAttr(n.sortTskButton,"style",`background: white; color: ${t[1].header};`),n.addButton.addEventListener("click",(function(){n.prjList.append(n.createProject),n.createProject.focus()})),n.emptyFilterBox.addEventListener("click",(function(){n.searchProjects.value=null})),n.createProject.addEventListener("keypress",(function(e){if("Enter"===e.key&&""!==this.value){const e=document.querySelectorAll(".prj-items");l(n.prjList);const t=[];let i=new a(!1,"Click the circle to compete this task","","low");t.push(i),C(),function(e,t,a,n,i){let o=new r(e,"Write your description here.",a,n,!0);s.push(o)}(this.value,0,e.length+1,t),c(),this.value=""}})),i(n.sortPrjButton,n.sortPrjContents),i(n.sortTskButton,n.sortTskContents),document.querySelectorAll(".sort-items").forEach((e=>{e.onclick=()=>{n.sortPrjContents.style.visibility="hidden",n.sortTskContents.style.visibility="hidden"}})),document.getElementById("sort-title").addEventListener("click",(()=>{s.sort(((e,t)=>e.name>t.name?1:-1)),l(n.prjList),c()})),document.getElementById("sort-date").addEventListener("click",(()=>{s.sort(((e,t)=>e.id>t.id?1:-1)),l(n.prjList),c()})),document.getElementById("prj-rnm-desc").addEventListener("click",(function(){const e=document.getElementById("prj-desc-txt"),t=document.getElementById("prj-desc-wrapper");""==n.tempTextarea.value?(n.tempTextarea.focus(),t.replaceChild(n.tempTextarea,e)):t.replaceChild(e,n.tempTextarea)})),n.tempTextarea.addEventListener("keypress",(function(e){document.getElementById("prj-desc-wrapper"),document.getElementById("prj-desc-txt")})),n.searchProjects.addEventListener("input",o),console.log(s)})();