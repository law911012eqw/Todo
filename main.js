(()=>{"use strict";class e{static createPara(e,t){const s=document.createElement("p");return""!==t&&this.elementAddId(t,s),s.textContent=e,s}static createInput(e,t,s,r,a,i){const n=document.createElement("input");return n.id=t,n.placeholder=r,n.className=s,n.required=a,n.maxLength=i,""!==t&&this.elementAddId(t,n),""!==s&&(n.className=s),n}static createTextarea(e,t,s){const r=document.createElement("textarea");return r.className=e,r.cols=t,r.rows=s,""!==e&&(r.className=e),r}static createLabel(e,t){const s=document.createElement("label");s.setAttribute("for",e),s.textContent=t}static createChecklist(e,t){const s=document.createElement("input");return s.type="checkbox",s.checked=t,s.ClassName=e,s}static elWithClasses(e="",t,s,r){const a=document.createElement(r);return a.textContent=e,a.className=s,""!==t&&this.elementAddId(t,a),""!==s&&(a.className=s),a}static elementAddId(e,t){t.id=e}static appendMultipleEl(e,t){e.append(t),console.log("debug purposes")}static modifyAttr(e,t,s){e.setAttribute(t,s)}}const t=[],s=[{outer:"rgba(20, 189, 96,0.4)",inner:"rgba(20, 189, 96,0.4)"},{outer:"rgb(139,20,20)",inner:"rgb(175,36,36)"},{outer:"rgb(225,12,65)",inner:"rgb(245,12,45)"}];class r{constructor(e,t,s,r,a){this.name=e,this.description=t,this.id=s,this.tasks=r,this.active=a}}class a{constructor(e,t,s,r){this.checked=e,this.desc=t,this.dueDate=s,this.priority=r}}const i=(()=>{const s=e.elWithClasses("","theme-up-outer","theme-up-outer","div"),r=e.elWithClasses("","theme-up-inner","theme-up-inner","div"),a=e.elWithClasses("","sidebar","sidebar","div"),n=e.elWithClasses("","sidebar-header","sidebar-headers","div"),o=e.elWithClasses("","filter-container","filter-container","div"),c=e.elWithClasses("","","fas fa-search","i"),l=e.elWithClasses("","","fas fa-plus-circle","i"),d=e.elWithClasses("","","dropdown","div"),p=e.elWithClasses("Sort by","","dropbtn","button"),h=e.elWithClasses("","","dropdown-content","div"),u=e.elWithClasses("","","fas fa-times","i"),m=e.createInput("text","prj-filter","searchbar","Search for projects",!1,"32"),C=e.elWithClasses("","searchbar-wrapper","searchbar-wrapper","div"),f=e.elWithClasses("","","fas fa-sort-down","i"),y=e.elWithClasses("","prj-container","prj-container","div"),j=e.elWithClasses("","prj-list","","ul"),v=e.createInput("text","prj-create","","Add new project",!1,"32"),b=e.elWithClasses("","main-section","","div"),k=e.elWithClasses("","prj-header","","div"),W=e.elWithClasses("","prj-head-container","","div"),g=e.elWithClasses("","prj-desc-wrapper","","div"),E=e.elWithClasses("","prj-rnm-desc","fas fa-pen-square","div"),x=e.createTextarea("temp-textarea",30,10),I=e.elWithClasses("","","fas fa-cog","i"),B=e.elWithClasses("","task-feature-holder","","div"),L=e.elWithClasses("","task-container","task-container","div");return e.modifyAttr(k,"style","visibility: hidden"),e.modifyAttr(g,"style","visibility: hidden"),e.modifyAttr(h,"style","visibility: hidden;"),{themeOuter:s,themeInner:r,sidebarContainer:a,sidebarHeader:n,taskContainer:L,projectContainer:y,filterContainer:o,addButton:l,sortButtonWrapper:d,magnifyIcon:c,searchProjects:m,searchbarWrapper:C,createProject:v,prjList:j,projectHeader:k,mainSection:b,emptyFilterBox:u,sortDownIcon:f,sortButton:p,sortContents:h,taskFeatures:B,taskSettings:I,projectHeadContainer:W,projectDescWrapper:g,projectDescIcon:E,tempTextarea:x,displayTaskItem:function(s,r){console.log(s);const a=e.elWithClasses("","","taskbox","div"),n=e.createChecklist("task-checklist",!1),o=e.elWithClasses(t[s].tasks[r].desc,"","todo","p"),c=e.elWithClasses(t[s].tasks[r].priority,"","task-prio","p");i.taskContainer.append(a),a.append(n,o,c)}}})();function n(){let e=document.getElementById("prj-filter").value.toUpperCase();const t=document.querySelectorAll(".prj-items");for(let s=0;s<t.length;s++)i.prjList.getElementsByTagName("li")[s].textContent.toUpperCase().indexOf(e)>-1?t[s].style.display="":t[s].style.display="none"}function o(t,s,r){let a=e.elWithClasses("","","prj-items","li");i.prjList.appendChild(a),a.append(e.createPara(t,""),e.elWithClasses("",`prj-edit${s}`,"prj-edit","div")),document.getElementById(`prj-edit${s}`).append(e.elWithClasses("","","fas fa-pen-square prj-rename","i"),e.elWithClasses("","","fas fa-trash-alt prj-remove","i")),c(a,r)}function c(e,s){1==t[s].active?e.classList.add("prj-active"):e.classList.remove("prj-active")}function l(e,s){i.projectHeader.style.visibility="visible",i.projectDescWrapper.style.visibility="visible",-1==e?(i.projectHeader.textContent=t[s].name,console.log(`This is the latest project = ${t[s].name}`)):(console.log(`This is the clicked project = ${t[e].name}`),i.projectHeader.textContent=t[e].name)}function d(e){for(let s=0;s<t[e].tasks.length;s++)i.displayTaskItem(e,s)}function p(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function h(){for(let e=0;e<t.length;e++){let s=e;o(t[e].name,s,e),l(-1,s),p(i.taskContainer),d(e),C()}}function u(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function m(){for(let e=0;e<t.length;e++)t[e].active=!1}function C(){document.querySelectorAll(".prj-items").forEach(((e,s)=>{const r=s+1;e.addEventListener("click",(function(a){console.log(`This is index${r}`),m(),t[s].active=!0,c(e,r),this.classList.add("prj-active"),function(e){let s=t.length;for(let r=0;r<s;r++)r+1===e&&(console.log(`Text content is updated: ${t[r].id} and ${e}`),l(r,s))}(r)}))}))}document.getElementById("content").appendChild(i.themeOuter),i.themeOuter.appendChild(i.themeInner),i.themeInner.append(i.sidebarContainer,i.mainSection),i.sidebarContainer.append(i.sidebarHeader,i.filterContainer,i.projectContainer),i.sidebarHeader.append(e.createPara("My Projects",""),i.addButton),i.filterContainer.append(i.sortButtonWrapper,i.searchbarWrapper),i.searchbarWrapper.append(i.magnifyIcon,i.searchProjects,i.emptyFilterBox),i.sortButtonWrapper.append(i.sortButton,i.sortContents),i.sortButton.appendChild(i.sortDownIcon),i.sortContents.append(e.createPara("Sort by",""),e.elWithClasses("Creation Date","sort-date","sort-items","div"),e.elWithClasses("Title","sort-title","sort-items","div"),e.elWithClasses("# of tasks","sort-num-tasks","sort-items","div")),i.projectContainer.appendChild(i.prjList),i.mainSection.append(i.projectHeadContainer,i.taskContainer),i.projectHeadContainer.append(i.projectHeader,i.projectDescWrapper,i.taskFeatures),i.projectDescWrapper.append(i.projectDescIcon,e.createPara("Write your description here.","prj-desc-txt")),i.taskFeatures.append(i.taskSettings),i.taskContainer.append(e.createPara("You don't have any task at the moment.","empty-task-text")),e.modifyAttr(i.themeOuter,"style",`background: ${s[1].outer}`),e.modifyAttr(i.themeInner,"style",`background: ${s[1].inner}`),e.modifyAttr(i.sidebarHeader,"style",`background: ${s[1].outer}`),e.modifyAttr(i.sidebarContainer,"style",`border-right: 16px dashed ${s[1].inner}`),i.addButton.addEventListener("click",(function(){i.prjList.append(i.createProject),i.createProject.focus()})),i.emptyFilterBox.addEventListener("click",(function(){i.searchProjects.value=null})),i.createProject.addEventListener("keypress",(function(e){if("Enter"===e.key&&""!==this.value){const e=document.querySelectorAll(".prj-items");u(i.prjList);const s=[];let n=new a(!1,"Click the circle to compete this task","","low");s.push(n),function(e,s,a,i,n){let o=new r(e,"Write your description here.",a,i,!0);t.push(o)}(this.value,0,e.length+1,s),h(),this.value="",m()}})),i.sortButton.addEventListener("mouseover",(()=>{i.sortContents.style.visibility="visible",setTimeout((function(){i.sortContents.style.visibility="hidden"}),3e3)})),document.querySelectorAll(".sort-items").forEach((e=>{e.onclick=()=>{i.sortContents.style.visibility="hidden"}})),document.getElementById("sort-title").addEventListener("click",(()=>{t.sort(((e,t)=>e.name>t.name?1:-1)),u(i.prjList),h()})),document.getElementById("sort-date").addEventListener("click",(()=>{t.sort(((e,t)=>e.id>t.id?1:-1)),u(i.prjList),h()})),document.querySelectorAll(".prj-remove").forEach(((e,s)=>{e.addEventListener("click",(e=>{e.stopPropagation(),console.log("Wtf?"),t.splice(s,1),h()}))})),document.getElementById("prj-rnm-desc").addEventListener("click",(function(){const e=document.getElementById("prj-desc-txt"),t=document.getElementById("prj-desc-wrapper");""==i.tempTextarea.value?(i.tempTextarea.focus(),t.replaceChild(i.tempTextarea,e)):t.replaceChild(e,i.tempTextarea)})),i.tempTextarea.addEventListener("keypress",(function(e){document.getElementById("prj-desc-wrapper"),document.getElementById("prj-desc-txt")})),i.searchProjects.addEventListener("input",n),console.log(t)})();